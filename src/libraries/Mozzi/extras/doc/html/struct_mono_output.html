<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mozzi: MonoOutput Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mozzi-circle.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mozzi
   &#160;<span id="projectnumber">version v1.1.0</span>
   </div>
   <div id="projectbrief">sound synthesis library for Arduino</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_mono_output.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="struct_mono_output-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MonoOutput Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This struct encapsulates one frame of mono audio output.  
 <a href="struct_mono_output.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89428135a43dd00ea52a1bd49bbfece9"><td class="memItemLeft" align="right" valign="top"><a id="a89428135a43dd00ea52a1bd49bbfece9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a89428135a43dd00ea52a1bd49bbfece9">MonoOutput</a> (AudioOutputStorage_t l=0)</td></tr>
<tr class="memdesc:a89428135a43dd00ea52a1bd49bbfece9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an audio frame from raw values (zero-centered) <br /></td></tr>
<tr class="separator:a89428135a43dd00ea52a1bd49bbfece9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fe3c13043c666f36d7fb7029c17a30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a51fe3c13043c666f36d7fb7029c17a30">operator AudioOutput_t</a> () const</td></tr>
<tr class="memdesc:a51fe3c13043c666f36d7fb7029c17a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion to int operator.  <a href="#a51fe3c13043c666f36d7fb7029c17a30">More...</a><br /></td></tr>
<tr class="separator:a51fe3c13043c666f36d7fb7029c17a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4ac57932e39b02959cd55bdb5d394d"><td class="memItemLeft" align="right" valign="top"><a id="aac4ac57932e39b02959cd55bdb5d394d"></a>
AudioOutputStorage_t&#160;</td><td class="memItemRight" valign="bottom"><b>l</b> () const</td></tr>
<tr class="separator:aac4ac57932e39b02959cd55bdb5d394d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe87c5d547ee10e8aeb2d6af95905e3"><td class="memItemLeft" align="right" valign="top"><a id="a3fe87c5d547ee10e8aeb2d6af95905e3"></a>
AudioOutputStorage_t&#160;</td><td class="memItemRight" valign="bottom"><b>r</b> () const</td></tr>
<tr class="separator:a3fe87c5d547ee10e8aeb2d6af95905e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e641cbab9732214c696cd1071e45de5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_mono_output.html">MonoOutput</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a0e641cbab9732214c696cd1071e45de5">clip</a> ()</td></tr>
<tr class="memdesc:a0e641cbab9732214c696cd1071e45de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clip frame to supported range.  <a href="#a0e641cbab9732214c696cd1071e45de5">More...</a><br /></td></tr>
<tr class="separator:a0e641cbab9732214c696cd1071e45de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a02f9adf531ab61ce96ed80a8319bdeea"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a02f9adf531ab61ce96ed80a8319bdeea"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="struct_mono_output.html">MonoOutput</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a02f9adf531ab61ce96ed80a8319bdeea">fromNBit</a> (uint8_t bits, T l)</td></tr>
<tr class="memdesc:a02f9adf531ab61ce96ed80a8319bdeea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an audio frame a zero-centered value known to be in the N bit range.  <a href="#a02f9adf531ab61ce96ed80a8319bdeea">More...</a><br /></td></tr>
<tr class="separator:a02f9adf531ab61ce96ed80a8319bdeea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7478d3111845040f553a965e7e54a539"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_mono_output.html">MonoOutput</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a7478d3111845040f553a965e7e54a539">from8Bit</a> (int16_t l)</td></tr>
<tr class="memdesc:a7478d3111845040f553a965e7e54a539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an audio frame from a zero-centered value known to be in the 8 bit range.  <a href="#a7478d3111845040f553a965e7e54a539">More...</a><br /></td></tr>
<tr class="separator:a7478d3111845040f553a965e7e54a539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ed90efb5e8c00ae880f2d15b1ce0bd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_mono_output.html">MonoOutput</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mono_output.html#a67ed90efb5e8c00ae880f2d15b1ce0bd">from16Bit</a> (int16_t l)</td></tr>
<tr class="memdesc:a67ed90efb5e8c00ae880f2d15b1ce0bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an audio frame a zero-centered value known to be in the 16 bit range.  <a href="#a67ed90efb5e8c00ae880f2d15b1ce0bd">More...</a><br /></td></tr>
<tr class="separator:a67ed90efb5e8c00ae880f2d15b1ce0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa9d580d583ff2bd961a98768fe9b15"><td class="memTemplParams" colspan="2"><a id="aaaa9d580d583ff2bd961a98768fe9b15"></a>
template&lt;typename A , typename B &gt; </td></tr>
<tr class="memitem:aaaa9d580d583ff2bd961a98768fe9b15"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="struct_mono_output.html">MonoOutput</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><b>fromAlmostNBit</b> (A bits, B l)</td></tr>
<tr class="separator:aaaa9d580d583ff2bd961a98768fe9b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This struct encapsulates one frame of mono audio output. </p>
<p>Internally, it really just boils down to a single int value, but the struct provides useful API an top of that, for the following:</p>
<p>a) To construct an output frame, you should use one of the <a class="el" href="struct_mono_output.html#a7478d3111845040f553a965e7e54a539" title="Construct an audio frame from a zero-centered value known to be in the 8 bit range. ">from8Bit()</a>, <a class="el" href="struct_mono_output.html#a02f9adf531ab61ce96ed80a8319bdeea" title="Construct an audio frame a zero-centered value known to be in the N bit range. ">fromNBit()</a>, etc. functions. Given a raw input value, at a known resolution (number of bits), this scales the output efficiently to whatever is needed on the target platform. Using this, your <a class="el" href="group__core.html#ga41f0db3f560ff1fdec78f9c60822466e" title="This is where you put your audio code. ">updateAudio()</a> function will be portable across different CPU and different output methods, including external DACs. b) The struct provides some convenience API on top of this. Right now, this is the function <a class="el" href="struct_mono_output.html#a0e641cbab9732214c696cd1071e45de5" title="Clip frame to supported range. ">clip()</a>, replacing the more verbose, and non-portable constrain(x, -244, 243) found in some old sketches. c) The struct provides accessors l() and r() that are source-compatible with <a class="el" href="struct_stereo_output.html" title="This struct encapsulates one frame of mono audio output. ">StereoOutput</a>, making it easy to e.g. implement support for an external DAC in both mono and stereo. d) Finally, an automatic conversion operator to int aka AudioOutput_t provides backward compatibility with old Mozzi sketches. Internally, the compiler will actually do away with this wholw struct, leaving just the same basic fast integer operations as in older Mozzi sketches. However, now, you don't have to rewrite those for different configurations. </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00132">132</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0e641cbab9732214c696cd1071e45de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e641cbab9732214c696cd1071e45de5">&#9670;&nbsp;</a></span>clip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_mono_output.html">MonoOutput</a>&amp; MonoOutput::clip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clip frame to supported range. </p>
<p>This is useful when at times, but only rarely, the signal may exceed the usual range. Using this function does not avoid artifacts, entirely, but gives much better results than an overflow. </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00148">148</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>

</div>
</div>
<a id="a67ed90efb5e8c00ae880f2d15b1ce0bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ed90efb5e8c00ae880f2d15b1ce0bd">&#9670;&nbsp;</a></span>from16Bit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_mono_output.html">MonoOutput</a> MonoOutput::from16Bit </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an audio frame a zero-centered value known to be in the 16 bit range. </p>
<p>This is jsut a shortcut for fromNBit(16, ...) provided for convenience. </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00158">158</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>

</div>
</div>
<a id="a7478d3111845040f553a965e7e54a539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7478d3111845040f553a965e7e54a539">&#9670;&nbsp;</a></span>from8Bit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_mono_output.html">MonoOutput</a> MonoOutput::from8Bit </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an audio frame from a zero-centered value known to be in the 8 bit range. </p>
<p>On AVR, STANDADR or STANDARD_PLUS mode, this is effectively the same as calling the constructor, directly (no scaling gets applied). On platforms/configs using more bits, an appropriate left-shift will be performed. </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00156">156</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>

</div>
</div>
<a id="a02f9adf531ab61ce96ed80a8319bdeea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f9adf531ab61ce96ed80a8319bdeea">&#9670;&nbsp;</a></span>fromNBit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_mono_output.html">MonoOutput</a> MonoOutput::fromNBit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an audio frame a zero-centered value known to be in the N bit range. </p>
<p>Appropriate left- or right-shifting will be performed, based on the number of output bits available. While this function takes care of the shifting, beware of potential overflow issues, if your intermediary results exceed the 16 bit range. Use proper casts to int32_t or larger in that case (and the compiler will automatically pick the 32 bit overload in this case) </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00153">153</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>

</div>
</div>
<a id="a51fe3c13043c666f36d7fb7029c17a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51fe3c13043c666f36d7fb7029c17a30">&#9670;&nbsp;</a></span>operator AudioOutput_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MonoOutput::operator AudioOutput_t </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Conversion to int operator. </p>

<p class="definition">Definition at line <a class="el" href="_audio_output_8h_source.html#l00142">142</a> of file <a class="el" href="_audio_output_8h_source.html">AudioOutput.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_mono_output.html">MonoOutput</a></li>
    <li class="footer">Generated on Thu Mar 16 2023 14:01:36 for Mozzi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
